<!--
Ayan Bhattacharjee
2017
-->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="google-signin-client_id" content="608787834828-71306h3l0d8tfg0ooudb8enkm7dd1ta3.apps.googleusercontent.com">
    <title>Platform</title>
    <!-- jQuery, Google Client API, Vue.js-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.4.1/vue.js"></script>
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  </head>
  <body>
    <!-- the beginning-->
    <div class='container' id='app'>

      <!-- google sign-in -->
      <div class="g-signin2" data-onsuccess="onSignIn" data-theme="dark" ref="signIn"></div>
      <!-- the html which teachers will see -->
      <div id='teacherView' v-if='teacher.is'>
        <h3>Teacher</h3>
        <div class="row">
          <div class="col-md-4">
            <button type="button" class="btn btn-default" data-toggle="modal" data-target="#createRoom">New Room</button>
            <div class="modal fade" tabindex="-1" role="dialog" id="createRoom">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Create a Room</h4>
                  </div>
                  <div class="modal-body">
                    <form v-on:submit.prevent="newRoom($refs.roomName.value)">
                      <div class="form-group">
                        Room Name (unique, no spaces):<br>
                        <input type="text" ref="roomName" name="roomname"><br><br>
                      </div>
                      <button class="btn btn-primary" type="submit">Submit</button>
                      <button type="button" class="btn btn-default" data-dismiss="modal" aria-label="Close">Close</button>
                    </form>
                  </div>
                  <div class="modal-footer"></div>
                </div><!-- /.modal-content -->
              </div><!-- /.modal-dialog -->
            </div><!-- /.modal -->
            <br><br>
            <button type="button" class="btn btn-default" data-toggle="modal" data-target="#announce">Announcement</button>
            <div class="modal fade" tabindex="-1" role="dialog" id="announce">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Send a message to everyone</h4>
                  </div>
                  <div class="modal-body">
                    <form v-on:submit.prevent="announce($refs.announcement.value)">
                      <div class="form-group">
                        Message:<br>
                        <input type="text" ref="announcement" name="announcement"><br><br>
                      </div>
                      <button class="btn btn-primary" type="submit">Send</button>
                      <button type="button" class="btn btn-default" data-dismiss="modal" aria-label="Close">Close</button>
                    </form>
                  </div>
                  <div class="modal-footer"></div>
                </div><!-- /.modal-content -->
              </div><!-- /.modal-dialog -->
            </div><!-- /.modal -->
          </div>
          <div class="col-md-8">
            <ul class="nav nav-pills">
              <li role="presentation" v-for='room in rooms'><a v-bind:href='"#" + room.name' data-toggle="tab">{{room.name}}</a></li>
            </ul>
      			<div class="tab-content clearfix panel" >
      			  <div class="tab-pane" v-for='room in rooms' v-bind:id='room.name'>
                <div class="panel-heading">Student names of {{room.name}}</div>
                <div class="panel-body">
                  {{room.name}} <br>{{room.name}}
                </div>
      				</div>
      			</div>
          </div>

        </div>
      </div>
      <!-- the end of teacher view html -->
      <!-- below is html the student's will view -->
      <div id='studentView' v-if='student.is'>
      </div>
      <!-- the end of student view html -->
    </div>
    <!-- the end of the application -->
    <script src="/socket.io/socket.io.js"></script> <!-- necessary for socket.io-client -->
    <script src="app.js"></script> <!-- the vue app code -->
  </body>
</html>
